{"version":3,"sources":["webpack://acnh-island-tracker/./node_modules/@material-ui/icons/FirstPage.js","webpack://acnh-island-tracker/./node_modules/@material-ui/icons/KeyboardArrowLeft.js","webpack://acnh-island-tracker/./node_modules/@material-ui/icons/KeyboardArrowRight.js","webpack://acnh-island-tracker/./node_modules/@material-ui/icons/LastPage.js","webpack://acnh-island-tracker/./node_modules/throttle-debounce/esm/index.js","webpack://acnh-island-tracker/./src/components/TrackedVillagersList.js","webpack://acnh-island-tracker/./src/pages/data/mystery-islands/tracked.js"],"names":["_interopRequireDefault","_interopRequireWildcard","exports","React","_default","default","createElement","d","throttle","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","wrapper","_len","arguments","length","arguments_","Array","_key","self","this","elapsed","Date","now","exec","apply","clear","undefined","setTimeout","cancel","debounce","atBegin","useStyles","makeStyles","theme","list","marginBottom","spacing","padding","listSubheader","paddingLeft","paddingRight","backgroundColor","palette","background","paper","TrackedVillagersList","props","classes","sightings","otherProps","getVillager","useVillagers","sortedSightings","sort","a","b","timestamp","formattedSightings","map","sighting","index","villager","id","date","format","sightingsGroupedByDate","groupBy","className","Object","keys","key","subheader","customPagination","flexShrink","marginLeft","controlsWrapper","margin","position","formControl","width","transform","searchInput","searchIcon","left","top","color","text","hint","pagination","TablePaginationActions","useTheme","count","page","rowsPerPage","onChangePage","onClick","event","disabled","aria-label","direction","Math","ceil","max","DEFAULT_PER_PAGE","label","value","filteredSightings","SessionContext","session","filter","s","type","setPage","villagersPerPage","setVillagersPerPage","searchTerms","setSearchTerms","searchResults","matchSorter","item","personality","species","delayedSearch","terms","startIndex","endIndex","sightingsToRender","slice","pageTitle","pageLabel","title","pathname","location","fullWidth","variant","inputProps","onChange","e","target","component","rowsPerPageOptions","SelectProps","native","newPage","onChangeRowsPerPage","parseInt","labelRowsPerPage","ActionsComponent"],"mappings":"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","file":"component---src-pages-data-mystery-islands-tracked-js-bb83b584060f1901bd46.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"\n}), 'FirstPage');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z\"\n}), 'KeyboardArrowLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n}), 'KeyboardArrowRight');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\"\n}), 'LastPage');\n\nexports.default = _default;","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {number}    delay -          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}   [noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset).\n * @param  {Function}  callback -       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {boolean}   [debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function}  A new, throttled, function.\n */\nfunction throttle(delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n      arguments_[_key] = arguments[_key];\n    }\n\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, arguments_);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n/* eslint-disable no-undefined */\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {number}   delay -         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}  [atBegin] -     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback -      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @returns {Function} A new, debounced function.\n */\n\n\nfunction debounce(delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { debounce, throttle };","import React from \"react\";\r\nimport { format } from \"date-fns\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\n\r\nimport { groupBy } from \"../util/list\";\r\nimport useVillagers from \"../hooks/useVillagers\";\r\nimport VillagerListItem from \"../components/VillagerListItem\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list: {\r\n        marginBottom: theme.spacing(2),\r\n        padding: theme.spacing(1, 0, 4),\r\n    },\r\n    listSubheader: {\r\n        paddingLeft: theme.spacing(5),\r\n        paddingRight: theme.spacing(5),\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n}));\r\n\r\nexport default function TrackedVillagersList(props) {\r\n    const classes = useStyles();\r\n    const {\r\n        sightings,\r\n        ...otherProps\r\n    } = props;\r\n\r\n    const { getVillager } = useVillagers();\r\n\r\n    const sortedSightings = sightings.sort((a, b) => b.timestamp - a.timestamp);\r\n    const formattedSightings = sortedSightings.map((sighting, index) => {\r\n        const villager = getVillager(sighting.villager.id);\r\n        return {\r\n            ...sighting,\r\n            date: format(sighting.timestamp, \"MMM d, yyyy\"),\r\n            villager,\r\n        };\r\n    });\r\n    const sightingsGroupedByDate = groupBy(formattedSightings, 'date');\r\n    return (\r\n        <List className={classes.list} {...otherProps}>\r\n            {sortedSightings.length ? (\r\n                Object.keys(sightingsGroupedByDate).map(date => (\r\n                    <React.Fragment key={date}>\r\n                        <ListSubheader className={classes.listSubheader}>{date}</ListSubheader>\r\n                        {sightingsGroupedByDate[date].map(sighting => (\r\n                            <VillagerListItem\r\n                                key={sighting.timestamp}\r\n                                villager={sighting.villager}\r\n                                sighting={sighting}\r\n                            />\r\n                        ))}\r\n                    </React.Fragment>\r\n                ))\r\n            ) : (\r\n                <ListSubheader className={classes.listSubheader}>\r\n                    No encounters to display\r\n                </ListSubheader>\r\n            )}\r\n        </List>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { debounce } from \"throttle-debounce\";\r\nimport { matchSorter } from \"match-sorter\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FirstPageIcon from \"@material-ui/icons/FirstPage\";\r\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport LastPageIcon from \"@material-ui/icons/LastPage\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport SessionContext from \"../../../context/SessionContext\";\r\n\r\nimport Page from \"../../../components/Page\";\r\nimport SEO from \"../../../components/SEO\";\r\nimport TrackedVillagersList from \"../../../components/TrackedVillagersList\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    subheader: {\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    customPagination: {\r\n        flexShrink: 0,\r\n        marginLeft: theme.spacing(2.5),\r\n    },\r\n    controlsWrapper: {\r\n        margin: theme.spacing(2, 5, 1),\r\n        position: \"relative\",\r\n    },\r\n    formControl: {\r\n        width: \"100%\",\r\n        margin: 0,\r\n        \"& .MuiInputLabel-outlined\": {\r\n            transform: `translate(48px, 20px) scale(1)`,\r\n        },\r\n        \"& .MuiInputLabel-outlined.MuiInputLabel-shrink\": {\r\n            transform: `translate(14px, -6px) scale(0.75)`,\r\n        },\r\n    },\r\n    searchInput: {\r\n        paddingLeft: theme.spacing(6),\r\n    },\r\n    searchIcon: {\r\n        position: \"absolute\",\r\n        left: theme.spacing(2),\r\n        top: \"50%\",\r\n        transform: \"translateY(-50%)\",\r\n        color: theme.palette.text.hint,\r\n    },\r\n    pagination: {\r\n        \"& .MuiTablePagination-toolbar\": {\r\n            padding: 0,\r\n        },\r\n    },\r\n}));\r\n\r\nfunction TablePaginationActions(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const { count, page, rowsPerPage, onChangePage } = props;\r\n\r\n    const handleFirstPageButtonClick = event => {\r\n        onChangePage(event, 0);\r\n    };\r\n\r\n    const handleBackButtonClick = event => {\r\n        onChangePage(event, page - 1);\r\n    };\r\n\r\n    const handleNextButtonClick = event => {\r\n        onChangePage(event, page + 1);\r\n    };\r\n\r\n    const handleLastPageButtonClick = event => {\r\n        onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n    };\r\n\r\n    return (\r\n        <div className={classes.customPagination}>\r\n            <IconButton\r\n                onClick={handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"first page\"\r\n            >\r\n                {theme.direction === \"rtl\" ? <LastPageIcon /> : <FirstPageIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleBackButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"previous page\"\r\n            >\r\n                {theme.direction === \"rtl\" ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleNextButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"next page\"\r\n            >\r\n                {theme.direction === \"rtl\" ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"last page\"\r\n            >\r\n                {theme.direction === \"rtl\" ? <FirstPageIcon /> : <LastPageIcon />}\r\n            </IconButton>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction TrackedMysteryIslandVillagersPage(props) {\r\n    const DEFAULT_PER_PAGE = [10, 25, 50, { label: \"All\", value: -1 }];\r\n    const classes = useStyles();\r\n    const { session } = React.useContext(SessionContext);\r\n\r\n    const filteredSightings = session.sightings.filter(s => s.type === \"mystery-island\");\r\n    const [page, setPage] = React.useState(0);\r\n    const [villagersPerPage, setVillagersPerPage] = React.useState(DEFAULT_PER_PAGE[0]);\r\n    const [searchTerms, setSearchTerms] = React.useState(\"\");\r\n    const searchResults = React.useMemo(\r\n        () => matchSorter(filteredSightings, searchTerms, {\r\n            keys: [\r\n                \"villager.name\",\r\n                \"villager.species\",\r\n                \"villager.personality\",\r\n                item => `${item.villager.personality} ${item.villager.species}`,\r\n                item => `${item.villager.species} ${item.villager.personality}`,\r\n                \"villager.gender\",\r\n            ],\r\n        }).sort((a, b) => b.timestamp - a.timestamp),\r\n        [filteredSightings, searchTerms],\r\n    );\r\n    const delayedSearch = React.useMemo(\r\n        () => debounce(250, (terms) => {\r\n            setPage(0);\r\n            setSearchTerms(terms);\r\n        }),\r\n        [setPage, setSearchTerms],\r\n    );\r\n    const startIndex = Math.max(page * villagersPerPage, 0);\r\n    const endIndex = startIndex + (villagersPerPage >= 0 ? villagersPerPage : searchResults.length);\r\n    const sightingsToRender = searchResults.slice(startIndex, endIndex);\r\n    const pageTitle = \"Mystery Island Encounters\";\r\n    const pageLabel = `${pageTitle} ${\r\n        searchResults.length ? `(${searchResults.length})` : \"\"\r\n    }`;\r\n    return (\r\n        <Page title={pageLabel}>\r\n            <SEO title={pageTitle} pathname={props.location.pathname} />\r\n            <div className={classes.controlsWrapper}>\r\n                <TextField\r\n                    className={classes.formControl}\r\n                    fullWidth={true}\r\n                    id=\"villager-search\"\r\n                    label=\"Name, species, personality\"\r\n                    type=\"search\"\r\n                    variant=\"outlined\"\r\n                    inputProps={{ className: classes.searchInput }}\r\n                    onChange={(e) => delayedSearch(e.target.value)}\r\n                />\r\n                <SearchIcon className={classes.searchIcon} />\r\n            </div>\r\n            <TrackedVillagersList\r\n                sightings={sightingsToRender}\r\n            />\r\n            <TablePagination\r\n                className={classes.pagination}\r\n                component=\"div\"\r\n                rowsPerPageOptions={DEFAULT_PER_PAGE}\r\n                count={searchResults.length}\r\n                rowsPerPage={villagersPerPage}\r\n                page={page}\r\n                SelectProps={{\r\n                    inputProps: { \"aria-label\": \"villagers per page\" },\r\n                    native: true,\r\n                }}\r\n                onChangePage={(event, newPage) => {\r\n                    setPage(newPage);\r\n                }}\r\n                onChangeRowsPerPage={event => {\r\n                    setVillagersPerPage(parseInt(event.target.value, 10));\r\n                    setPage(0);\r\n                }}\r\n                labelRowsPerPage=\"\"\r\n                ActionsComponent={TablePaginationActions}\r\n            />\r\n        </Page>\r\n    );\r\n}\r\n\r\nexport default TrackedMysteryIslandVillagersPage;\r\n"],"sourceRoot":""}