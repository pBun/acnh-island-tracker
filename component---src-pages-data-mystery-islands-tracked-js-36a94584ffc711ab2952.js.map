{"version":3,"sources":["webpack:///./node_modules/@material-ui/icons/FirstPage.js","webpack:///./src/pages/data/mystery-islands/tracked.js","webpack:///./node_modules/@material-ui/icons/KeyboardArrowRight.js","webpack:///./node_modules/@material-ui/icons/KeyboardArrowLeft.js","webpack:///./node_modules/throttle-debounce/dist/index.esm.js","webpack:///./src/components/TrackedVillagersList.js","webpack:///./node_modules/@material-ui/icons/LastPage.js"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","_react","_default","createElement","d","useStyles","makeStyles","theme","list","marginBottom","spacing","subheader","backgroundColor","palette","background","paper","customPagination","flexShrink","marginLeft","controlsWrapper","margin","position","formControl","width","transform","searchInput","paddingLeft","searchIcon","left","top","color","text","hint","pagination","padding","TablePaginationActions","props","classes","useTheme","count","page","rowsPerPage","onChangePage","className","onClick","event","disabled","aria-label","direction","Math","ceil","max","TrackedMysteryIslandVillagersPage","DEFAULT_PER_PAGE","label","filteredSightings","React","useContext","SessionContext","session","sightings","filter","s","type","useState","setPage","villagersPerPage","setVillagersPerPage","searchTerms","setSearchTerms","searchResults","useCallback","matchSorter","keys","item","villager","personality","species","sort","a","b","timestamp","delayedSearch","debounce","terms","startIndex","endIndex","length","sightingsToRender","slice","pageLabel","pageTitle","title","pathname","location","fullWidth","id","variant","inputProps","onChange","e","target","component","rowsPerPageOptions","SelectProps","native","newPage","onChangeRowsPerPage","parseInt","labelRowsPerPage","ActionsComponent","throttle","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","wrapper","self","this","elapsed","Date","now","args","arguments","exec","apply","clear","undefined","setTimeout","cancel","atBegin","listSubheader","paddingRight","TrackedVillagersList","otherProps","getVillager","useVillagers","sortedSightings","formattedSightings","map","sighting","index","date","format","sightingsGroupedByDate","groupBy","Fragment","key"],"mappings":"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","file":"component---src-pages-data-mystery-islands-tracked-js-36a94584ffc711ab2952.js","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"\n}), 'FirstPage');\n\nexports[\"default\"] = _default;","import React from \"react\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { debounce } from \"throttle-debounce\";\nimport matchSorter from \"match-sorter\";\nimport TextField from \"@material-ui/core/TextField\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FirstPageIcon from \"@material-ui/icons/FirstPage\";\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\nimport LastPageIcon from \"@material-ui/icons/LastPage\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport SessionContext from \"../../../context/SessionContext\";\n\nimport Page from \"../../../components/Page\";\nimport SEO from \"../../../components/SEO\";\nimport TrackedVillagersList from \"../../../components/TrackedVillagersList\";\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        marginBottom: theme.spacing(2),\n    },\n    subheader: {\n        backgroundColor: theme.palette.background.paper,\n    },\n    customPagination: {\n        flexShrink: 0,\n        marginLeft: theme.spacing(2.5),\n    },\n    controlsWrapper: {\n        margin: theme.spacing(2, 5, 1),\n        position: \"relative\",\n    },\n    formControl: {\n        width: \"100%\",\n        margin: 0,\n        \"& .MuiInputLabel-outlined\": {\n            transform: `translate(48px, 20px) scale(1)`,\n        },\n        \"& .MuiInputLabel-outlined.MuiInputLabel-shrink\": {\n            transform: `translate(14px, -6px) scale(0.75)`,\n        },\n    },\n    searchInput: {\n        paddingLeft: theme.spacing(6),\n    },\n    searchIcon: {\n        position: \"absolute\",\n        left: theme.spacing(2),\n        top: \"50%\",\n        transform: \"translateY(-50%)\",\n        color: theme.palette.text.hint,\n    },\n    pagination: {\n        \"& .MuiTablePagination-toolbar\": {\n            padding: 0,\n        },\n    },\n}));\n\nfunction TablePaginationActions(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const { count, page, rowsPerPage, onChangePage } = props;\n\n    const handleFirstPageButtonClick = event => {\n        onChangePage(event, 0);\n    };\n\n    const handleBackButtonClick = event => {\n        onChangePage(event, page - 1);\n    };\n\n    const handleNextButtonClick = event => {\n        onChangePage(event, page + 1);\n    };\n\n    const handleLastPageButtonClick = event => {\n        onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n    };\n\n    return (\n        <div className={classes.customPagination}>\n            <IconButton\n                onClick={handleFirstPageButtonClick}\n                disabled={page === 0}\n                aria-label=\"first page\"\n            >\n                {theme.direction === \"rtl\" ? <LastPageIcon /> : <FirstPageIcon />}\n            </IconButton>\n            <IconButton\n                onClick={handleBackButtonClick}\n                disabled={page === 0}\n                aria-label=\"previous page\"\n            >\n                {theme.direction === \"rtl\" ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n            </IconButton>\n            <IconButton\n                onClick={handleNextButtonClick}\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n                aria-label=\"next page\"\n            >\n                {theme.direction === \"rtl\" ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n            </IconButton>\n            <IconButton\n                onClick={handleLastPageButtonClick}\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n                aria-label=\"last page\"\n            >\n                {theme.direction === \"rtl\" ? <FirstPageIcon /> : <LastPageIcon />}\n            </IconButton>\n        </div>\n    );\n}\n\nfunction TrackedMysteryIslandVillagersPage(props) {\n    const DEFAULT_PER_PAGE = [10, 25, 50, { label: \"All\", value: -1 }];\n    const classes = useStyles();\n    const { session } = React.useContext(SessionContext);\n\n    const filteredSightings = session.sightings.filter(s => s.type === \"mystery-island\");\n    const [page, setPage] = React.useState(0);\n    const [villagersPerPage, setVillagersPerPage] = React.useState(DEFAULT_PER_PAGE[0]);\n    const [searchTerms, setSearchTerms] = React.useState(\"\");\n    const searchResults = React.useCallback(\n        matchSorter(filteredSightings, searchTerms, {\n            keys: [\n                \"villager.name\",\n                \"villager.species\",\n                \"villager.personality\",\n                item => `${item.villager.personality} ${item.villager.species}`,\n                item => `${item.villager.species} ${item.villager.personality}`,\n                \"villager.gender\",\n            ],\n        }).sort((a, b) => b.timestamp - a.timestamp),\n        [filteredSightings, searchTerms],\n    );\n    const delayedSearch = React.useCallback(\n        debounce(250, (terms) => {\n            setPage(0);\n            setSearchTerms(terms);\n        }),\n        [setPage, setSearchTerms],\n    );\n    const startIndex = Math.max(page * villagersPerPage, 0);\n    const endIndex = startIndex + (villagersPerPage >= 0 ? villagersPerPage : searchResults.length);\n    const sightingsToRender = searchResults.slice(startIndex, endIndex);\n    const pageTitle = \"Mystery Island Encounters\";\n    const pageLabel = `${pageTitle} ${\n        searchResults.length ? `(${searchResults.length})` : \"\"\n    }`;\n    return (\n        <Page title={pageLabel}>\n            <SEO title={pageTitle} pathname={props.location.pathname} />\n            <div className={classes.controlsWrapper}>\n                <TextField\n                    className={classes.formControl}\n                    fullWidth={true}\n                    id=\"villager-search\"\n                    label=\"Name, species, personality\"\n                    type=\"search\"\n                    variant=\"outlined\"\n                    inputProps={{ className: classes.searchInput }}\n                    onChange={(e) => delayedSearch(e.target.value)}\n                />\n                <SearchIcon className={classes.searchIcon} />\n            </div>\n            <TrackedVillagersList\n                sightings={sightingsToRender}\n            />\n            <TablePagination\n                className={classes.pagination}\n                component=\"div\"\n                rowsPerPageOptions={DEFAULT_PER_PAGE}\n                count={searchResults.length}\n                rowsPerPage={villagersPerPage}\n                page={page}\n                SelectProps={{\n                    inputProps: { \"aria-label\": \"villagers per page\" },\n                    native: true,\n                }}\n                onChangePage={(event, newPage) => {\n                    setPage(newPage);\n                }}\n                onChangeRowsPerPage={event => {\n                    setVillagersPerPage(parseInt(event.target.value, 10));\n                    setPage(0);\n                }}\n                labelRowsPerPage=\"\"\n                ActionsComponent={TablePaginationActions}\n            />\n        </Page>\n    );\n}\n\nexport default TrackedMysteryIslandVillagersPage;\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n}), 'KeyboardArrowRight');\n\nexports[\"default\"] = _default;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z\"\n}), 'KeyboardArrowLeft');\n\nexports[\"default\"] = _default;","import \"core-js/modules/es6.date.now\";\n\n/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nfunction throttle(delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n    var args = arguments;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, args);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n/* eslint-disable no-undefined */\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\n\n\nfunction debounce(delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { throttle, debounce };","import React from \"react\";\nimport { format } from \"date-fns\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\n\nimport { groupBy } from \"../util/list\";\nimport useVillagers from \"../hooks/useVillagers\";\nimport VillagerListItem from \"../components/VillagerListItem\";\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        marginBottom: theme.spacing(2),\n        padding: theme.spacing(1, 0, 4),\n    },\n    listSubheader: {\n        paddingLeft: theme.spacing(5),\n        paddingRight: theme.spacing(5),\n        backgroundColor: theme.palette.background.paper,\n    },\n}));\n\nexport default function TrackedVillagersList(props) {\n    const classes = useStyles();\n    const {\n        sightings,\n        ...otherProps\n    } = props;\n\n    const { getVillager } = useVillagers();\n\n    const sortedSightings = sightings.sort((a, b) => b.timestamp - a.timestamp);\n    const formattedSightings = sortedSightings.map((sighting, index) => {\n        const villager = getVillager(sighting.villager.id);\n        return {\n            ...sighting,\n            date: format(sighting.timestamp, \"MMM d, yyyy\"),\n            villager,\n        };\n    });\n    const sightingsGroupedByDate = groupBy(formattedSightings, 'date');\n    return (\n        <List className={classes.list} {...otherProps}>\n            {sortedSightings.length ? (\n                Object.keys(sightingsGroupedByDate).map(date => (\n                    <React.Fragment key={date}>\n                        <ListSubheader className={classes.listSubheader}>{date}</ListSubheader>\n                        {sightingsGroupedByDate[date].map(sighting => (\n                            <VillagerListItem\n                                key={sighting.timestamp}\n                                villager={sighting.villager}\n                                sighting={sighting}\n                            />\n                        ))}\n                    </React.Fragment>\n                ))\n            ) : (\n                <ListSubheader className={classes.listSubheader}>\n                    No encounters to display\n                </ListSubheader>\n            )}\n        </List>\n    );\n}\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\"\n}), 'LastPage');\n\nexports[\"default\"] = _default;"],"sourceRoot":""}