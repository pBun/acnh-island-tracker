(self.webpackChunkacnh_island_tracker=self.webpackChunkacnh_island_tracker||[]).push([[616],{1035:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(2122),r=n(1253),o=n(7294),i=n(5505),s=n(2931),l=(0,n(6018).Z)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var c=o.forwardRef((function(e,t){var n=e.alt,s=e.children,c=e.classes,d=e.className,m=e.component,u=void 0===m?"div":m,p=e.imgProps,f=e.sizes,v=e.src,g=e.srcSet,y=e.variant,h=void 0===y?"circular":y,Z=(0,r.Z)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=null,E=function(e){var t=e.src,n=e.srcSet,a=o.useState(!1),r=a[0],i=a[1];return o.useEffect((function(){if(t||n){i(!1);var e=!0,a=new Image;return a.src=t,a.srcSet=n,a.onload=function(){e&&i("loaded")},a.onerror=function(){e&&i("error")},function(){e=!1}}}),[t,n]),r}({src:v,srcSet:g}),x=v||g,N=x&&"error"!==E;return b=N?o.createElement("img",(0,a.Z)({alt:n,src:v,srcSet:g,sizes:f,className:c.img},p)):null!=s?s:x&&n?n[0]:o.createElement(l,{className:c.fallback}),o.createElement(u,(0,a.Z)({className:(0,i.Z)(c.root,c.system,c[h],d,!N&&c.colorDefault),ref:t},Z),b)})),d=(0,s.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(c)},9419:function(e,t,n){"use strict";var a=n(2122),r=n(1253),o=n(7294),i=n(5505),s=n(2931),l=n(8582),c=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=(0,r.Z)(e,["classes","className"]),d=o.useContext(l.Z);return o.createElement("div",(0,a.Z)({className:(0,i.Z)(n.root,s,"flex-start"===d.alignItems&&n.alignItemsFlexStart),ref:t},c))}));t.Z=(0,s.Z)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(c)},4997:function(e,t,n){"use strict";var a=n(2122),r=n(1253),o=n(7294),i=n(5505),s=n(2931),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=(0,r.Z)(e,["classes","className"]);return o.createElement("div",(0,a.Z)({className:(0,i.Z)(n.root,s),ref:t},l))}));l.muiName="ListItemSecondaryAction",t.Z=(0,s.Z)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(l)},8030:function(e,t,n){"use strict";var a=n(2122),r=n(1253),o=n(7294),i=n(5505),s=n(2931),l=n(453),c=n(8582),d=o.forwardRef((function(e,t){var n=e.children,s=e.classes,d=e.className,m=e.disableTypography,u=void 0!==m&&m,p=e.inset,f=void 0!==p&&p,v=e.primary,g=e.primaryTypographyProps,y=e.secondary,h=e.secondaryTypographyProps,Z=(0,r.Z)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),b=o.useContext(c.Z).dense,E=null!=v?v:n;null==E||E.type===l.Z||u||(E=o.createElement(l.Z,(0,a.Z)({variant:b?"body2":"body1",className:s.primary,component:"span",display:"block"},g),E));var x=y;return null==x||x.type===l.Z||u||(x=o.createElement(l.Z,(0,a.Z)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},h),x)),o.createElement("div",(0,a.Z)({className:(0,i.Z)(s.root,d,b&&s.dense,f&&s.inset,E&&x&&s.multiline),ref:t},Z),E,x)}));t.Z=(0,s.Z)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(d)},4381:function(e,t,n){"use strict";var a=n(2122),r=n(1253),o=n(7294),i=n(5505),s=n(2931),l=n(7055),c=n(1008),d=n(1291),m=n(8582),u=n(3935),p="undefined"==typeof window?o.useEffect:o.useLayoutEffect,f=o.forwardRef((function(e,t){var n=e.alignItems,s=void 0===n?"center":n,f=e.autoFocus,v=void 0!==f&&f,g=e.button,y=void 0!==g&&g,h=e.children,Z=e.classes,b=e.className,E=e.component,x=e.ContainerComponent,N=void 0===x?"li":x,C=e.ContainerProps,w=(C=void 0===C?{}:C).className,k=(0,r.Z)(C,["className"]),S=e.dense,T=void 0!==S&&S,R=e.disabled,A=void 0!==R&&R,I=e.disableGutters,P=void 0!==I&&I,L=e.divider,B=void 0!==L&&L,M=e.focusVisibleClassName,z=e.selected,V=void 0!==z&&z,F=(0,r.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),D=o.useContext(m.Z),W={dense:T||D.dense||!1,alignItems:s},H=o.useRef(null);p((function(){v&&H.current&&H.current.focus()}),[v]);var _=o.Children.toArray(h),j=_.length&&(0,c.Z)(_[_.length-1],["ListItemSecondaryAction"]),G=o.useCallback((function(e){H.current=u.findDOMNode(e)}),[]),O=(0,d.Z)(G,t),$=(0,a.Z)({className:(0,i.Z)(Z.root,b,W.dense&&Z.dense,!P&&Z.gutters,B&&Z.divider,A&&Z.disabled,y&&Z.button,"center"!==s&&Z.alignItemsFlexStart,j&&Z.secondaryAction,V&&Z.selected),disabled:A},F),Y=E||"li";return y&&($.component=E||"div",$.focusVisibleClassName=(0,i.Z)(Z.focusVisible,M),Y=l.Z),j?(Y=$.component||E?Y:"div","li"===N&&("li"===Y?Y="div":"li"===$.component&&($.component="div")),o.createElement(m.Z.Provider,{value:W},o.createElement(N,(0,a.Z)({className:(0,i.Z)(Z.container,w),ref:O},k),o.createElement(Y,$,_),_.pop()))):o.createElement(m.Z.Provider,{value:W},o.createElement(Y,(0,a.Z)({ref:O},$),_))}));t.Z=(0,s.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(f)},4500:function(e,t,n){"use strict";var a=n(5318),r=n(862);t.Z=void 0;var o=r(n(7294)),i=(0,a(n(8786)).default)(o.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i},5374:function(e,t,n){"use strict";var a=n(5318),r=n(862);t.Z=void 0;var o=r(n(7294)),i=(0,a(n(8786)).default)(o.createElement("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");t.Z=i},4362:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var a=n(9756),r=n(7294),o=n(5444),i=n(920),s=n(453),l=n(1690),c=n(8086),d=n(9817),m=n(2206),u=n(7198),p=n(791),f=n(4381),v=n(9419),g=n(8030),y=n(4997),h=n(1035),Z=n(5966),b=n(4500),E=n(3332),x=n(3729),N=n(4685),C=n(5374),w=n(7689),k=n(5411),S=n(710),T=n(7277),R=n(4405),A=n(6157),I=n(2248),P=(0,i.Z)((function(e){return{list:{marginBottom:e.spacing(2),padding:e.spacing(1,0,4)},listSubheader:{backgroundColor:e.palette.background.paper},formTitle:{paddingLeft:e.spacing(5),paddingRight:e.spacing(5),color:e.palette.text.secondary,fontWeight:500,marginBottom:e.spacing(3)},removeButton:{color:e.palette.primary.main},deleteButton:{color:e.palette.error.main},combobox:{width:"100%",marginBottom:e.spacing(.5)},controlsContainer:{padding:e.spacing(0,5,2)},submitButton:{margin:e.spacing(1,0,1),padding:e.spacing(.667,3.5)},radioGroupLabel:{position:"absolute",overflow:"hidden",textIndent:"-1000px"},radioWrapper:{flexDirection:"row",justifyContent:"flex-end",width:"100%"},secondaryAction:{right:e.spacing(4)},form:{paddingTop:e.spacing(4),paddingBottom:e.spacing(0)},buttonWrapper:{display:"flex",justifyContent:"flex-end",alignItems:"center"}}})),L=(0,i.Z)((function(e){return{primaryText:{color:e.palette.text.secondary},secondaryText:{color:e.palette.text.hint},avatar:{backgroundColor:e.palette.text.hint}}})),B=function(e){var t=P(),n=e.villager,i=e.secondaryAction,s=(0,a.Z)(e,["villager","secondaryAction"]);return r.createElement(f.Z,Object.assign({button:!0,component:o.Link,to:"/villagers/"+n.id+"/"},s),r.createElement(v.Z,null,r.createElement(h.Z,{alt:n.name,src:n.icon})),r.createElement(g.Z,{primary:n.name,secondary:n.personality+" "+n.species}),r.createElement(y.Z,{className:t.secondaryAction},i))},M=function(e){var t=L();return r.createElement(f.Z,e,r.createElement(v.Z,null,r.createElement(h.Z,{className:t.avatar,alt:"Empty"})),r.createElement(g.Z,{primary:"Empty Slot",secondary:"N/A",primaryTypographyProps:{className:t.primaryText},secondaryTypographyProps:{className:t.secondaryText}}))};function z(e){var t=P(),n=r.useContext(S.ZP),a=n.currentResidents,o=n.pastResidents,i=n.moveInResident,f=n.moveOutResident,v=n.deleteResident,g=r.useContext(T.ZP).setSnackMessage,y=(0,k.Z)().allVillagers,h=r.useState(null),L=h[0],z=h[1],V=r.useState("current"),F=V[0],D=V[1],W=r.useState(""),H=W[0],_=W[1],j=10-a.length,G="My Residents";return r.createElement(A.Z,{title:G},r.createElement(I.Z,{title:G,pathname:e.location.pathname}),r.createElement("form",{className:t.form,onSubmit:function(e){if(e.preventDefault(),!L)return _("Please select a villager.");if(!!a.find((function(e){return e.villager.id===L.id})))return _("past"===F?L.name+" currently lives on your island. Use the 'move out' button to add them to the list of past residents.":L.name+" already lives on your island.");var t=!!o.find((function(e){return e.villager.id===L.id}));return"past"===F&&t?_(L.name+" already exists in your list of past residents."):"current"===F&&a.length>=10?_("You already have the max number of residents."):void("current"===F?i(L):f(L)).then((function(){z(null),_(""),g(L.name+" successfully added to "+F+" residents!")})).catch((function(e){_(e),g(e)}))}},r.createElement(s.Z,{variant:"body2",component:"h2",className:t.formTitle},"Add Resident"),r.createElement("div",{className:t.controlsContainer},r.createElement(R.Z,{value:L,onChange:function(e,t){z(t),_("")},className:t.combobox,error:H}),r.createElement(l.Z,{component:"fieldset",className:t.radioWrapper},r.createElement(d.Z,{component:"legend",className:t.radioGroupLabel},"Type of resident"),r.createElement(m.Z,{className:t.radioWrapper,"aria-label":"type of resident",name:"sighting-type",value:F,onChange:function(e){return D(e.target.value)},defaultValue:"current"},r.createElement(c.Z,{className:t.radioLabel,value:"current",control:r.createElement(u.Z,{color:"primary",size:"small"}),label:r.createElement(s.Z,{variant:"body2"},"Current resident")}),r.createElement(c.Z,{className:t.radioLabel,value:"past",control:r.createElement(u.Z,{color:"primary",size:"small"}),label:r.createElement(s.Z,{variant:"body2"},"Past resident")}))),r.createElement("div",{className:t.buttonWrapper},r.createElement(E.Z,{className:t.submitButton,type:"submit",color:"primary",variant:"contained",startIcon:r.createElement(w.Z,null),disableElevation:!0},"Add")))),r.createElement(p.Z,{className:t.list},r.createElement(Z.Z,{className:t.listSubheader,variant:"h5"},"Current Residents (",a.length," / ",10,")"),r.createElement("div",null,a.map((function(e){var n=y.find((function(t){return t.id===e.villager.id}));return r.createElement(B,{key:e.id+"_currentResident",villager:n,timestamp:e.moveInTimestamp,secondaryAction:r.createElement(N.ZP,{arrow:!0,title:"Move out",placement:"top"},r.createElement(x.Z,{className:t.removeButton,variant:"contained",onClick:function(){var e="Are you sure you want to remove "+n.name+" from your island?";window&&window.confirm(e)&&f(n).then((function(){_(""),g(n.name+" successfully moved to past residents!")})).catch((function(e){_(e),g(e)}))},"aria-label":"remove villager from island"},r.createElement(C.Z,null)))})}))),r.createElement("div",null,Array.from(new Array(j).keys()).map((function(e){return r.createElement(M,{key:"empty_"+e})}))),r.createElement("div",null,o.length?r.createElement(r.Fragment,null,r.createElement(Z.Z,{className:t.listSubheader},"Past Residents ("+o.length+")"),o.map((function(e){var n=y.find((function(t){return t.id===e.villager.id}));return r.createElement(B,{key:e.id+"_pastResident",villager:n,timstamp:e.moveOutTimestamp,secondaryAction:r.createElement(N.ZP,{arrow:!0,title:"Delete memories",placement:"top"},r.createElement(x.Z,{className:t.deleteButton,variant:"contained",onClick:function(){var e="Are you sure you want to remove all history of "+n.name+" from your island? This cannot be undone.";window&&window.confirm(e)&&v(n).then((function(){_(""),g(n.name+" resident history successfully deleted from your browser!")})).catch((function(e){_(e),g(e)}))},"aria-label":"delete all history of resident"},r.createElement(b.Z,null)))})}))):"")))}}}]);
//# sourceMappingURL=component---src-pages-residents-js-cce0d441d85d0a74fbc9.js.map